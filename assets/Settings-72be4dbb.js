import{i as Z,a9 as ht,aa as vt,j as O,ab as bt,n as _t,p as Qe,a1 as wt,ac as At,R as M,N as Vt,F as xt,I as Ft,ad as mt,ae as pt,af as St,ag as Dt,ah as kt,ai as Et,V as Ct,aj as Ot,ak as Tt,S as Pe}from"./chakra-ui-c05b5861.js";import{T as Lt,u as Rt,R as Mt,a as It,p as Nt}from"./index-8747d21c.js";const Ut=({label:e,help:i,error:s,element:o,leftElement:r,rightElement:l})=>Z(ht,{isInvalid:!!s,children:[Z(vt,{children:[e," ",i&&O(bt,{hasArrow:!0,label:i,children:O(_t,{as:"span",children:O(Qe,{as:Lt})})})]}),Z(wt,{children:[r,o,l]}),s&&O(At,{children:s})]});var ce=e=>e.type==="checkbox",re=e=>e instanceof Date,L=e=>e==null;const Xe=e=>typeof e=="object";var k=e=>!L(e)&&!Array.isArray(e)&&Xe(e)&&!re(e),Bt=e=>k(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,Pt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,qt=(e,i)=>e.has(Pt(i)),fe=e=>Array.isArray(e)?e.filter(Boolean):[],D=e=>e===void 0,f=(e,i,s)=>{if(!i||!k(e))return s;const o=fe(i.split(/[,[\].]+?/)).reduce((r,l)=>L(r)?r:r[l],e);return D(o)||o===e?D(e[i])?s:e[i]:o};const qe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},B={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};M.createContext(null);var Ht=(e,i,s,o=!0)=>{const r={defaultValues:i._defaultValues};for(const l in e)Object.defineProperty(r,l,{get:()=>{const y=l;return i._proxyFormState[y]!==B.all&&(i._proxyFormState[y]=!o||B.all),s&&(s[y]=!0),e[y]}});return r},N=e=>k(e)&&!Object.keys(e).length,Wt=(e,i,s,o)=>{s(e);const{name:r,...l}=e;return N(l)||Object.keys(l).length>=Object.keys(i).length||Object.keys(l).find(y=>i[y]===(!o||B.all))},Fe=e=>Array.isArray(e)?e:[e];function Gt(e){const i=M.useRef(e);i.current=e,M.useEffect(()=>{const s=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var W=e=>typeof e=="string",jt=(e,i,s,o,r)=>W(e)?(o&&i.watch.add(e),f(s,e,r)):Array.isArray(e)?e.map(l=>(o&&i.watch.add(l),f(s,l))):(o&&(i.watchAll=!0),s),$t=e=>{const i=e.constructor&&e.constructor.prototype;return k(i)&&i.hasOwnProperty("isPrototypeOf")},Ee=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Y(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ee&&(e instanceof Blob||e instanceof FileList))&&(s||k(e)))if(i=s?[]:{},!Array.isArray(e)&&!$t(e))i=e;else for(const o in e)i[o]=Y(e[o]);else return e;return i}var zt=(e,i,s,o,r)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[o]:r||!0}}:{},Ce=e=>/^\w*$/.test(e),Ye=e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/));function V(e,i,s){let o=-1;const r=Ce(i)?[i]:Ye(i),l=r.length,y=l-1;for(;++o<l;){const h=r[o];let p=s;if(o!==y){const w=e[h];p=k(w)||Array.isArray(w)?w:isNaN(+r[o+1])?{}:[]}e[h]=p,e=e[h]}return e}const ke=(e,i,s)=>{for(const o of s||Object.keys(e)){const r=f(e,o);if(r){const{_f:l,...y}=r;if(l&&i(l.name)){if(l.ref.focus){l.ref.focus();break}else if(l.refs&&l.refs[0].focus){l.refs[0].focus();break}}else k(y)&&ke(y,i)}}};var He=e=>({isOnSubmit:!e||e===B.onSubmit,isOnBlur:e===B.onBlur,isOnChange:e===B.onChange,isOnAll:e===B.all,isOnTouch:e===B.onTouched}),We=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(o=>e.startsWith(o)&&/^\.\w+/.test(e.slice(o.length)))),Jt=(e,i,s)=>{const o=fe(f(e,s));return V(o,"root",i[s]),V(e,s,o),e},se=e=>typeof e=="boolean",Oe=e=>e.type==="file",ie=e=>typeof e=="function",ye=e=>{if(!Ee)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},de=e=>W(e)||M.isValidElement(e),Te=e=>e.type==="radio",ge=e=>e instanceof RegExp;const Ge={value:!1,isValid:!1},je={value:!0,isValid:!0};var Ze=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!D(e[0].attributes.value)?D(e[0].value)||e[0].value===""?je:{value:e[0].value,isValid:!0}:je:Ge}return Ge};const $e={isValid:!1,value:null};var et=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,$e):$e;function ze(e,i,s="validate"){if(de(e)||Array.isArray(e)&&e.every(de)||se(e)&&!e)return{type:s,message:de(e)?e:"",ref:i}}var te=e=>k(e)&&!ge(e)?e:{value:e,message:""},Je=async(e,i,s,o,r)=>{const{ref:l,refs:y,required:h,maxLength:p,minLength:w,min:P,max:G,pattern:F,validate:v,name:T,valueAsNumber:J,mount:K,disabled:be}=e._f,b=f(i,T);if(!K||be)return{};const U=y?y[0]:l,j=A=>{o&&U.reportValidity&&(U.setCustomValidity(se(A)?"":A||""),U.reportValidity())},E={},ne=Te(l),ae=ce(l),_e=ne||ae,q=(J||Oe(l))&&D(l.value)&&D(b)||ye(l)&&l.value===""||b===""||Array.isArray(b)&&!b.length,Q=zt.bind(null,T,s,E),$=(A,_,m,R=z.maxLength,I=z.minLength)=>{const H=A?_:m;E[T]={type:A?R:I,message:H,ref:l,...Q(A?R:I,H)}};if(r?!Array.isArray(b)||!b.length:h&&(!_e&&(q||L(b))||se(b)&&!b||ae&&!Ze(y).isValid||ne&&!et(y).isValid)){const{value:A,message:_}=de(h)?{value:!!h,message:h}:te(h);if(A&&(E[T]={type:z.required,message:_,ref:U,...Q(z.required,_)},!s))return j(_),E}if(!q&&(!L(P)||!L(G))){let A,_;const m=te(G),R=te(P);if(!L(b)&&!isNaN(b)){const I=l.valueAsNumber||b&&+b;L(m.value)||(A=I>m.value),L(R.value)||(_=I<R.value)}else{const I=l.valueAsDate||new Date(b),H=ue=>new Date(new Date().toDateString()+" "+ue),X=l.type=="time",le=l.type=="week";W(m.value)&&b&&(A=X?H(b)>H(m.value):le?b>m.value:I>new Date(m.value)),W(R.value)&&b&&(_=X?H(b)<H(R.value):le?b<R.value:I<new Date(R.value))}if((A||_)&&($(!!A,m.message,R.message,z.max,z.min),!s))return j(E[T].message),E}if((p||w)&&!q&&(W(b)||r&&Array.isArray(b))){const A=te(p),_=te(w),m=!L(A.value)&&b.length>A.value,R=!L(_.value)&&b.length<_.value;if((m||R)&&($(m,A.message,_.message),!s))return j(E[T].message),E}if(F&&!q&&W(b)){const{value:A,message:_}=te(F);if(ge(A)&&!b.match(A)&&(E[T]={type:z.pattern,message:_,ref:l,...Q(z.pattern,_)},!s))return j(_),E}if(v){if(ie(v)){const A=await v(b,i),_=ze(A,U);if(_&&(E[T]={..._,...Q(z.validate,_.message)},!s))return j(_.message),E}else if(k(v)){let A={};for(const _ in v){if(!N(A)&&!s)break;const m=ze(await v[_](b,i),U,_);m&&(A={...m,...Q(_,m.message)},j(m.message),s&&(E[T]=A))}if(!N(A)&&(E[T]={ref:U,...A},!s))return E}}return j(!0),E};function Kt(e,i){const s=i.slice(0,-1).length;let o=0;for(;o<s;)e=D(e)?o++:e[i[o++]];return e}function Qt(e){for(const i in e)if(!D(e[i]))return!1;return!0}function C(e,i){const s=Array.isArray(i)?i:Ce(i)?[i]:Ye(i),o=s.length===1?e:Kt(e,s),r=s.length-1,l=s[r];return o&&delete o[l],r!==0&&(k(o)&&N(o)||Array.isArray(o)&&Qt(o))&&C(e,s.slice(0,-1)),e}function me(){let e=[];return{get observers(){return e},next:r=>{for(const l of e)l.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(l=>l!==r)}}),unsubscribe:()=>{e=[]}}}var he=e=>L(e)||!Xe(e);function ee(e,i){if(he(e)||he(i))return e===i;if(re(e)&&re(i))return e.getTime()===i.getTime();const s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(const r of s){const l=e[r];if(!o.includes(r))return!1;if(r!=="ref"){const y=i[r];if(re(l)&&re(y)||k(l)&&k(y)||Array.isArray(l)&&Array.isArray(y)?!ee(l,y):l!==y)return!1}}return!0}var tt=e=>e.type==="select-multiple",Xt=e=>Te(e)||ce(e),pe=e=>ye(e)&&e.isConnected,rt=e=>{for(const i in e)if(ie(e[i]))return!0;return!1};function ve(e,i={}){const s=Array.isArray(e);if(k(e)||s)for(const o in e)Array.isArray(e[o])||k(e[o])&&!rt(e[o])?(i[o]=Array.isArray(e[o])?[]:{},ve(e[o],i[o])):L(e[o])||(i[o]=!0);return i}function st(e,i,s){const o=Array.isArray(e);if(k(e)||o)for(const r in e)Array.isArray(e[r])||k(e[r])&&!rt(e[r])?D(i)||he(s[r])?s[r]=Array.isArray(e[r])?ve(e[r],[]):{...ve(e[r])}:st(e[r],L(i)?{}:i[r],s[r]):ee(e[r],i[r])?delete s[r]:s[r]=!0;return s}var Se=(e,i)=>st(e,i,ve(i)),it=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:o})=>D(e)?e:i?e===""?NaN:e&&+e:s&&W(e)?new Date(e):o?o(e):e;function De(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Oe(i)?i.files:Te(i)?et(e.refs).value:tt(i)?[...i.selectedOptions].map(({value:s})=>s):ce(i)?Ze(e.refs).value:it(D(i.value)?e.ref.value:i.value,e)}var Yt=(e,i,s,o)=>{const r={};for(const l of e){const y=f(i,l);y&&V(r,l,y._f)}return{criteriaMode:s,names:[...e],fields:r,shouldUseNativeValidation:o}},oe=e=>D(e)?e:ge(e)?e.source:k(e)?ge(e.value)?e.value.source:e.value:e,Zt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Ke(e,i,s){const o=f(e,s);if(o||Ce(s))return{error:o,name:s};const r=s.split(".");for(;r.length;){const l=r.join("."),y=f(i,l),h=f(e,l);if(y&&!Array.isArray(y)&&s!==l)return{name:s};if(h&&h.type)return{name:l,error:h};r.pop()}return{name:s}}var er=(e,i,s,o,r)=>r.isOnAll?!1:!s&&r.isOnTouch?!(i||e):(s?o.isOnBlur:r.isOnBlur)?!e:(s?o.isOnChange:r.isOnChange)?e:!0,tr=(e,i)=>!fe(f(e,i)).length&&C(e,i);const rr={mode:B.onSubmit,reValidateMode:B.onChange,shouldFocusError:!0};function sr(e={},i){let s={...rr,...e};const o=e.resetOptions&&e.resetOptions.keepDirtyValues;let r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},l={},y=k(s.defaultValues)||k(s.values)?Y(s.defaultValues||s.values)||{}:{},h=s.shouldUnregister?{}:Y(y),p={action:!1,mount:!1,watch:!1},w={mount:new Set,unMount:new Set,array:new Set,watch:new Set},P,G=0;const F={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={watch:me(),array:me(),state:me()},T=He(s.mode),J=He(s.reValidateMode),K=s.criteriaMode===B.all,be=t=>n=>{clearTimeout(G),G=window.setTimeout(t,n)},b=async t=>{if(F.isValid||t){const n=s.resolver?N((await q()).errors):await $(l,!0);n!==r.isValid&&v.state.next({isValid:n})}},U=t=>F.isValidating&&v.state.next({isValidating:t}),j=(t,n=[],a,c,d=!0,u=!0)=>{if(c&&a){if(p.action=!0,u&&Array.isArray(f(l,t))){const g=a(f(l,t),c.argA,c.argB);d&&V(l,t,g)}if(u&&Array.isArray(f(r.errors,t))){const g=a(f(r.errors,t),c.argA,c.argB);d&&V(r.errors,t,g),tr(r.errors,t)}if(F.touchedFields&&u&&Array.isArray(f(r.touchedFields,t))){const g=a(f(r.touchedFields,t),c.argA,c.argB);d&&V(r.touchedFields,t,g)}F.dirtyFields&&(r.dirtyFields=Se(y,h)),v.state.next({name:t,isDirty:_(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(h,t,n)},E=(t,n)=>{V(r.errors,t,n),v.state.next({errors:r.errors})},ne=(t,n,a,c)=>{const d=f(l,t);if(d){const u=f(h,t,D(a)?f(y,t):a);D(u)||c&&c.defaultChecked||n?V(h,t,n?u:De(d._f)):I(t,u),p.mount&&b()}},ae=(t,n,a,c,d)=>{let u=!1,g=!1;const S={name:t};if(!a||c){F.isDirty&&(g=r.isDirty,r.isDirty=S.isDirty=_(),u=g!==S.isDirty);const x=ee(f(y,t),n);g=f(r.dirtyFields,t),x?C(r.dirtyFields,t):V(r.dirtyFields,t,!0),S.dirtyFields=r.dirtyFields,u=u||F.dirtyFields&&g!==!x}if(a){const x=f(r.touchedFields,t);x||(V(r.touchedFields,t,a),S.touchedFields=r.touchedFields,u=u||F.touchedFields&&x!==a)}return u&&d&&v.state.next(S),u?S:{}},_e=(t,n,a,c)=>{const d=f(r.errors,t),u=F.isValid&&se(n)&&r.isValid!==n;if(e.delayError&&a?(P=be(()=>E(t,a)),P(e.delayError)):(clearTimeout(G),P=null,a?V(r.errors,t,a):C(r.errors,t)),(a?!ee(d,a):d)||!N(c)||u){const g={...c,...u&&se(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...g},v.state.next(g)}U(!1)},q=async t=>await s.resolver(h,s.context,Yt(t||w.mount,l,s.criteriaMode,s.shouldUseNativeValidation)),Q=async t=>{const{errors:n}=await q();if(t)for(const a of t){const c=f(n,a);c?V(r.errors,a,c):C(r.errors,a)}else r.errors=n;return n},$=async(t,n,a={valid:!0})=>{for(const c in t){const d=t[c];if(d){const{_f:u,...g}=d;if(u){const S=w.array.has(u.name),x=await Je(d,h,K,s.shouldUseNativeValidation,S);if(x[u.name]&&(a.valid=!1,n))break;!n&&(f(x,u.name)?S?Jt(r.errors,x,u.name):V(r.errors,u.name,x[u.name]):C(r.errors,u.name))}g&&await $(g,n,a)}}return a.valid},A=()=>{for(const t of w.unMount){const n=f(l,t);n&&(n._f.refs?n._f.refs.every(a=>!pe(a)):!pe(n._f.ref))&&we(t)}w.unMount=new Set},_=(t,n)=>(t&&n&&V(h,t,n),!ee(Le(),y)),m=(t,n,a)=>jt(t,w,{...p.mount?h:D(n)?y:W(t)?{[t]:n}:n},a,n),R=t=>fe(f(p.mount?h:y,t,e.shouldUnregister?f(y,t,[]):[])),I=(t,n,a={})=>{const c=f(l,t);let d=n;if(c){const u=c._f;u&&(!u.disabled&&V(h,t,it(n,u)),d=ye(u.ref)&&L(n)?"":n,tt(u.ref)?[...u.ref.options].forEach(g=>g.selected=d.includes(g.value)):u.refs?ce(u.ref)?u.refs.length>1?u.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(d)?!!d.find(S=>S===g.value):d===g.value)):u.refs[0]&&(u.refs[0].checked=!!d):u.refs.forEach(g=>g.checked=g.value===d):Oe(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||v.watch.next({name:t})))}(a.shouldDirty||a.shouldTouch)&&ae(t,d,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&ue(t)},H=(t,n,a)=>{for(const c in n){const d=n[c],u=`${t}.${c}`,g=f(l,u);(w.array.has(t)||!he(d)||g&&!g._f)&&!re(d)?H(u,d,a):I(u,d,a)}},X=(t,n,a={})=>{const c=f(l,t),d=w.array.has(t),u=Y(n);V(h,t,u),d?(v.array.next({name:t,values:h}),(F.isDirty||F.dirtyFields)&&a.shouldDirty&&v.state.next({name:t,dirtyFields:Se(y,h),isDirty:_(t,u)})):c&&!c._f&&!L(u)?H(t,u,a):I(t,u,a),We(t,w)&&v.state.next({}),v.watch.next({name:t}),!p.mount&&i()},le=async t=>{const n=t.target;let a=n.name;const c=f(l,a),d=()=>n.type?De(c._f):Bt(t);if(c){let u,g;const S=d(),x=t.type===qe.BLUR||t.type===qe.FOCUS_OUT,dt=!Zt(c._f)&&!s.resolver&&!f(r.errors,a)&&!c._f.deps||er(x,f(r.touchedFields,a),r.isSubmitted,J,T),Ve=We(a,w,x);V(h,a,S),x?(c._f.onBlur&&c._f.onBlur(t),P&&P(0)):c._f.onChange&&c._f.onChange(t);const xe=ae(a,S,x,!1),yt=!N(xe)||Ve;if(!x&&v.watch.next({name:a,type:t.type}),dt)return F.isValid&&b(),yt&&v.state.next({name:a,...Ve?{}:xe});if(!x&&Ve&&v.state.next({}),U(!0),s.resolver){const{errors:Ue}=await q([a]),gt=Ke(r.errors,l,a),Be=Ke(Ue,l,gt.name||a);u=Be.error,a=Be.name,g=N(Ue)}else u=(await Je(c,h,K,s.shouldUseNativeValidation))[a],u?g=!1:F.isValid&&(g=await $(l,!0));c._f.deps&&ue(c._f.deps),_e(a,g,u,xe)}},ue=async(t,n={})=>{let a,c;const d=Fe(t);if(U(!0),s.resolver){const u=await Q(D(t)?t:d);a=N(u),c=t?!d.some(g=>f(u,g)):a}else t?(c=(await Promise.all(d.map(async u=>{const g=f(l,u);return await $(g&&g._f?{[u]:g}:g)}))).every(Boolean),!(!c&&!r.isValid)&&b()):c=a=await $(l);return v.state.next({...!W(t)||F.isValid&&a!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:a}:{},errors:r.errors,isValidating:!1}),n.shouldFocus&&!c&&ke(l,u=>u&&f(r.errors,u),t?d:w.mount),c},Le=t=>{const n={...y,...p.mount?h:{}};return D(t)?n:W(t)?f(n,t):t.map(a=>f(n,a))},Re=(t,n)=>({invalid:!!f((n||r).errors,t),isDirty:!!f((n||r).dirtyFields,t),isTouched:!!f((n||r).touchedFields,t),error:f((n||r).errors,t)}),nt=t=>{t&&Fe(t).forEach(n=>C(r.errors,n)),v.state.next({errors:t?r.errors:{}})},at=(t,n,a)=>{const c=(f(l,t,{_f:{}})._f||{}).ref;V(r.errors,t,{...n,ref:c}),v.state.next({name:t,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&c&&c.focus&&c.focus()},lt=(t,n)=>ie(t)?v.watch.subscribe({next:a=>t(m(void 0,n),a)}):m(t,n,!0),we=(t,n={})=>{for(const a of t?Fe(t):w.mount)w.mount.delete(a),w.array.delete(a),f(l,a)&&(n.keepValue||(C(l,a),C(h,a)),!n.keepError&&C(r.errors,a),!n.keepDirty&&C(r.dirtyFields,a),!n.keepTouched&&C(r.touchedFields,a),!s.shouldUnregister&&!n.keepDefaultValue&&C(y,a));v.watch.next({}),v.state.next({...r,...n.keepDirty?{isDirty:_()}:{}}),!n.keepIsValid&&b()},Ae=(t,n={})=>{let a=f(l,t);const c=se(n.disabled);return V(l,t,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:t}},name:t,mount:!0,...n}}),w.mount.add(t),a?c&&V(h,t,n.disabled?void 0:f(h,t,De(a._f))):ne(t,!0,n.value),{...c?{disabled:n.disabled}:{},...s.shouldUseNativeValidation?{required:!!n.required,min:oe(n.min),max:oe(n.max),minLength:oe(n.minLength),maxLength:oe(n.maxLength),pattern:oe(n.pattern)}:{},name:t,onChange:le,onBlur:le,ref:d=>{if(d){Ae(t,n),a=f(l,t);const u=D(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Xt(u),S=a._f.refs||[];if(g?S.find(x=>x===u):u===a._f.ref)return;V(l,t,{_f:{...a._f,...g?{refs:[...S.filter(pe),u,...Array.isArray(f(y,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),ne(t,!1,void 0,u)}else a=f(l,t,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(qt(w.array,t)&&p.action)&&w.unMount.add(t)}}},Me=()=>s.shouldFocusError&&ke(l,t=>t&&f(r.errors,t),w.mount),ut=(t,n)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=Y(h);if(v.state.next({isSubmitting:!0}),s.resolver){const{errors:d,values:u}=await q();r.errors=d,c=u}else await $(l);C(r.errors,"root"),N(r.errors)?(v.state.next({errors:{}}),await t(c,a)):(n&&await n({...r.errors},a),Me()),v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:N(r.errors),submitCount:r.submitCount+1,errors:r.errors})},ot=(t,n={})=>{f(l,t)&&(D(n.defaultValue)?X(t,f(y,t)):(X(t,n.defaultValue),V(y,t,n.defaultValue)),n.keepTouched||C(r.touchedFields,t),n.keepDirty||(C(r.dirtyFields,t),r.isDirty=n.defaultValue?_(t,f(y,t)):_()),n.keepError||(C(r.errors,t),F.isValid&&b()),v.state.next({...r}))},Ie=(t,n={})=>{const a=t||y,c=Y(a),d=t&&!N(t)?c:y;if(n.keepDefaultValues||(y=a),!n.keepValues){if(n.keepDirtyValues||o)for(const u of w.mount)f(r.dirtyFields,u)?V(d,u,f(h,u)):X(u,f(d,u));else{if(Ee&&D(t))for(const u of w.mount){const g=f(l,u);if(g&&g._f){const S=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(ye(S)){const x=S.closest("form");if(x){x.reset();break}}}}l={}}h=e.shouldUnregister?n.keepDefaultValues?Y(y):{}:c,v.array.next({values:d}),v.watch.next({values:d})}w={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!p.mount&&i(),p.mount=!F.isValid||!!n.keepIsValid,p.watch=!!e.shouldUnregister,v.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!!(n.keepDefaultValues&&!ee(t,y)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&t?Se(y,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ne=(t,n)=>Ie(ie(t)?t(h):t,n),ct=(t,n={})=>{const a=f(l,t),c=a&&a._f;if(c){const d=c.refs?c.refs[0]:c.ref;d.focus&&(d.focus(),n.shouldSelect&&d.select())}},ft=t=>{r={...r,...t}};return ie(s.defaultValues)&&s.defaultValues().then(t=>{Ne(t,s.resetOptions),v.state.next({isLoading:!1})}),{control:{register:Ae,unregister:we,getFieldState:Re,_executeSchema:q,_focusError:Me,_getWatch:m,_getDirty:_,_updateValid:b,_removeUnmounted:A,_updateFieldArray:j,_getFieldArray:R,_reset:Ie,_updateFormState:ft,_subjects:v,_proxyFormState:F,get _fields(){return l},get _formValues(){return h},get _stateFlags(){return p},set _stateFlags(t){p=t},get _defaultValues(){return y},get _names(){return w},set _names(t){w=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:ue,register:Ae,handleSubmit:ut,watch:lt,setValue:X,getValues:Le,reset:Ne,resetField:ot,clearErrors:nt,unregister:we,setError:at,setFocus:ct,getFieldState:Re}}function ir(e={}){const i=M.useRef(),[s,o]=M.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ie(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...sr(e,()=>o(l=>({...l}))),formState:s});const r=i.current.control;return r._options=e,Gt({subject:r._subjects.state,next:l=>{Wt(l,r._proxyFormState,r._updateFormState,!0)&&o({...r._formState})}}),M.useEffect(()=>{r._stateFlags.mount||(r._updateValid(),r._stateFlags.mount=!0),r._stateFlags.watch&&(r._stateFlags.watch=!1,r._subjects.state.next({})),r._removeUnmounted()}),M.useEffect(()=>{e.values&&!ee(e.values,r._defaultValues)&&r._reset(e.values,r._options.resetOptions)},[e.values,r]),M.useEffect(()=>{s.submitCount&&r._focusError()},[r,s.submitCount]),i.current.formState=Ht(s,r),i.current}const lr=()=>{var T;const{t:e}=Rt(),{isOpen:i,onOpen:s,onClose:o}=Vt(),r=M.useRef(null),{register:l,handleSubmit:y,watch:h,setValue:p,formState:{errors:w}}=ir(),[P,G]=M.useState(!1),F=M.useContext(Mt);M.useEffect(()=>{if(i){const J=JSON.parse(localStorage.getItem("ipfs_gateways")||"[]");p("ipfs_gateways",J.join(`
`))}},[i]);const v=async J=>{G(!0);const K=Nt(J.ipfs_gateways);localStorage.setItem("ipfs_gateways",JSON.stringify(K)),F.setIpfsGateways(K),o(),G(!1)};return Z(xt,{children:[O(Ft,{ref:r,"aria-label":e("settings.title"),title:e("settings.title")??"",icon:O(Qe,{as:It,boxSize:5}),onClick:s,variant:"ghost"}),Z(mt,{isOpen:i,placement:"right",size:"md",onClose:o,finalFocusRef:r,children:[O(pt,{}),Z(St,{children:[O(Dt,{}),O(kt,{children:e("settings.title")}),O(Et,{children:O("form",{id:"settings-form",onSubmit:y(v),children:O(Ct,{spacing:4,children:O(Ut,{label:e("settings.ipfs_gateways"),help:e("settings.ipfs_gateways_help")??void 0,error:(T=w.ipfs_gateways)==null?void 0:T.message,element:O(Ot,{...l("ipfs_gateways"),"aria-invalid":w.ipfs_gateways?"true":"false"})})})})}),Z(Tt,{children:[O(Pe,{variant:"outline",mr:3,onClick:o,children:e("settings.cancel")}),O(Pe,{colorScheme:"blue",type:"submit",form:"settings-form",isLoading:P,children:e("settings.save")})]})]})]})]})};export{lr as default};
